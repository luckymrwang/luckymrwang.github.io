
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>iBlog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="luckymrwang">
    

    
    <meta name="description" content="学习总结 思考感悟 知识管理">
<meta property="og:type" content="website">
<meta property="og:title" content="iBlog">
<meta property="og:url" content="https://luckymrwang.github.io/page/14/index.html">
<meta property="og:site_name" content="iBlog">
<meta property="og:description" content="学习总结 思考感悟 知识管理">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="luckymrwang">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="iBlog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2966365318189151"
     crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="iBlog" title="iBlog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="iBlog">iBlog</a></h1>
				<h2 class="blog-motto">Write down what I think.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">文章列表</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:luckymrwang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/12/23/Supervisor安装使用/" title="Supervisor安装使用" itemprop="url">Supervisor安装使用</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-12-23T04:35:26.000Z" itemprop="datePublished"> 发表于 2016-12-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><code>Supervisor</code> 是一个 <code>Python</code> 开发的 <code>client/server</code> 系统，可以管理和监控类 <code>UNIX</code> 操作系统上面的进程。它可以同时启动，关闭多个进程，使用起来特别的方便。</p>
<h3 id="组成部分"><a href="#组成部分" class="headerlink" title="组成部分"></a>组成部分</h3><p>supervisor 主要由两部分组成：</p>
<ul>
<li>supervisord(server 部分)：主要负责管理子进程，响应客户端命令以及日志的输出等；</li>
<li>supervisorctl(client 部分)：命令行客户端，用户可以通过它与不同的 supervisord 进程联系，获取子进程的状态等。</li>
</ul>
        
        
        <p class="article-more-link">
          
            <a href="/2016/12/23/Supervisor%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Centos/">Centos</a><a href="/tags/Linus/">Linus</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/12/23/Supervisor安装使用/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/12/23/Supervisor安装使用/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/12/05/Bash-日期时间戳格式化/" title="Bash 日期时间戳格式化" itemprop="url">Bash 日期时间戳格式化</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-12-05T04:09:45.000Z" itemprop="datePublished"> 发表于 2016-12-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UDF - 2016-11-29 00:00:35 --&gt; tdParams_to==&gt;&#123;&quot;appid&quot;:&quot;2005001xxx&quot;,&quot;eventtime&quot;:&quot;1480348772878&quot;,&quot;spreadurl&quot;:&quot;dMxpxx&quot;,&quot;appkey&quot;:&quot;XXbbf2fbaeb64d7b9623ec4ee3cde575&quot;,&quot;devicetype&quot;:&quot;iPhone7,2&quot;,&quot;adnetname&quot;:&quot;UC&quot;,&quot;osversion&quot;:&quot;10.1.1&quot;,&quot;idfa&quot;:&quot;DE055F0E-72D7-4A72-B7A0-C3E45A3A33XX&quot;,&quot;clicktime&quot;:&quot;1480348581122&quot;,&quot;ip&quot;:&quot;117.38.163.147&quot;&#125;UDF - 2016-11-29 00:00:41 --&gt; tdParams_to==&gt;&#123;&quot;appid&quot;:&quot;2005001xxx&quot;,&quot;eventtime&quot;:&quot;1480348766255&quot;,&quot;appkey&quot;:&quot;XXbbf2fbaeb64d7b9623ec4ee3cde575&quot;,&quot;devicetype&quot;:&quot;iPhone7,2&quot;,&quot;osversion&quot;:&quot;10.0.2&quot;,&quot;idfa&quot;:&quot;93271665-1341-499C-BDD6-6797699B9AXX&quot;,&quot;ip&quot;:&quot;58.59.64.234&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>有以上格式的数据，需要将其中的<code>eventtime</code>时间戳筛选出来并格式化</p>
        
        
        <p class="article-more-link">
          
            <a href="/2016/12/05/Bash-%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E6%88%B3%E6%A0%BC%E5%BC%8F%E5%8C%96/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/Bash/">Bash</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/12/05/Bash-日期时间戳格式化/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/12/05/Bash-日期时间戳格式化/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/23/Read-Files/" title="Read_Files" itemprop="url">Read_Files</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-23T04:08:17.000Z" itemprop="datePublished"> 发表于 2016-11-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(e <span class="type">error</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> e != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(e)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	dat, err := ioutil.ReadFile(<span class="string">&quot;/tmp/dat&quot;</span>)</span><br><span class="line">	check(err)</span><br><span class="line">	fmt.Print(<span class="type">string</span>(dat))</span><br><span class="line"></span><br><span class="line">	f, err := os.Open(<span class="string">&quot;/tmp/dat&quot;</span>)</span><br><span class="line">	check(err)</span><br><span class="line"></span><br><span class="line">	b1 := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">5</span>)</span><br><span class="line">	n1, err := f.Read(b1)</span><br><span class="line">	check(err)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d bytes: %s\n&quot;</span>, n1, <span class="type">string</span>(b1))</span><br><span class="line"></span><br><span class="line">	o2, err := f.Seek(<span class="number">6</span>, <span class="number">0</span>)</span><br><span class="line">	check(err)</span><br><span class="line">	b2 := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">2</span>)</span><br><span class="line">	n2, err := f.Read(b2)</span><br><span class="line">	check(err)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d bytes @ %d: %s\n&quot;</span>, n2, o2, <span class="type">string</span>(b2))</span><br><span class="line"></span><br><span class="line">	o3, err := f.Seek(<span class="number">6</span>, <span class="number">0</span>)</span><br><span class="line">	check(err)</span><br><span class="line">	b3 := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">2</span>)</span><br><span class="line">	n3, err := io.ReadAtLeast(f, b3, <span class="number">2</span>)</span><br><span class="line">	check(err)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d bytes @ %d: %s\n&quot;</span>, n3, o3, <span class="type">string</span>(b3))</span><br><span class="line"></span><br><span class="line">	_, err = f.Seek(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">	check(err)</span><br><span class="line"></span><br><span class="line">	r4 := bufio.NewReader(f)</span><br><span class="line">	b4, err := r4.Peek(<span class="number">5</span>)</span><br><span class="line">	check(err)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;5 bytes: %s\n&quot;</span>, <span class="type">string</span>(b4))</span><br><span class="line"></span><br><span class="line">	f.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/23/Read-Files/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/GoExample/">GoExample</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/23/Read-Files/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/23/Read-Files/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/23/URL-Parsing/" title="URL Parsing" itemprop="url">URL Parsing</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-23T02:11:22.000Z" itemprop="datePublished"> 发表于 2016-11-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;net&quot;</span></span><br><span class="line">	<span class="string">&quot;net/url&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := <span class="string">&quot;postgres://user:pass@host.com:5432/path?k=v#f&quot;</span></span><br><span class="line">	u, err := url.Parse(s)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(u.Scheme)</span><br><span class="line"></span><br><span class="line">	fmt.Println(u.User)</span><br><span class="line">	fmt.Println(u.User.Username())</span><br><span class="line">	p, _ := u.User.Password()</span><br><span class="line">	fmt.Println(p)</span><br><span class="line"></span><br><span class="line">	fmt.Println(u.Host)</span><br><span class="line">	host, port, _ := net.SplitHostPort(u.Host)</span><br><span class="line">	fmt.Println(host)</span><br><span class="line">	fmt.Println(port)</span><br><span class="line"></span><br><span class="line">	fmt.Println(u.Path)</span><br><span class="line">	fmt.Println(u.Fragment)</span><br><span class="line"></span><br><span class="line">	fmt.Println(u.RawQuery)</span><br><span class="line">	m, _ := url.ParseQuery(u.RawQuery)</span><br><span class="line">	fmt.Println(m)</span><br><span class="line">	fmt.Println(m[<span class="string">&quot;k&quot;</span>][<span class="number">0</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/23/URL-Parsing/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/GoExample/">GoExample</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/23/URL-Parsing/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/23/URL-Parsing/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/22/Grep-显示匹配行和之后的几行/" title="Grep 显示匹配行和之后的几行" itemprop="url">Grep 显示匹配行和之后的几行</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-22T12:37:57.000Z" itemprop="datePublished"> 发表于 2016-11-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <pre><code>grep -
</code></pre>
<ul>
<li>-A 是显示匹配后和它后面的 n 行</li>
<li>-B 是显示匹配行和它前面的 n 行</li>
<li>-C 是匹配行和它前后各 n 行</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/22/Grep-显示匹配行和之后的几行/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/22/Grep-显示匹配行和之后的几行/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/17/Go语言测试-Test-性能测试-Benchmark/" title="Go语言测试(Test)&amp;性能测试(Benchmark)" itemprop="url">Go语言测试(Test)&amp;性能测试(Benchmark)</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-17T03:33:58.000Z" itemprop="datePublished"> 发表于 2016-11-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Package testing provides support for automated testing of Go packages. It is intended to be used in concert with the “go test” command, which automates execution of any function of the form.</span><br></pre></td></tr></table></figure>

<p>testing 包提供了对Go包的自动测试支持。 这是和go test 命令相呼应的功能， go test 命令会自动执行所以符合格式</p>
<pre><code>func TestXXX(t *testing.T) 
</code></pre>
<h3 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Functions of the form</span><br><span class="line"></span><br><span class="line">func BenchmarkXxx(b *testing.B)</span><br><span class="line"></span><br><span class="line">are considered benchmarks, and are executed by the “go test” command when &gt;its -bench flag is provided. Benchmarks are run sequentially.</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/17/Go%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95-Test-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-Benchmark/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Go/">Go</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/17/Go语言测试-Test-性能测试-Benchmark/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/17/Go语言测试-Test-性能测试-Benchmark/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/15/linux-下使用-curl-访问带多参数，GET掉参数解决方案/" title="linux 下使用 curl 访问带多参数，GET掉参数解决方案" itemprop="url">linux 下使用 curl 访问带多参数，GET掉参数解决方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-15T10:16:15.000Z" itemprop="datePublished"> 发表于 2016-11-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>url 为 <code>http://mywebsite.com/index.php?a=1&amp;b=2&amp;c=3</code></p>
<p>web 形式下访问 url 地址，使用 $_GET 是可以获取到所有的参数</p>
<p><code>curl  -s  http://mywebsite.com/index.php?a=1&amp;b=2&amp;c=3</code></p>
<p>然而在linux下，上面的例子 $_GET只能获取到参数 a</p>
<p>由于url中有 <code>&amp;</code> 其他参数获取不到，在linux系统中 <code>&amp;</code> 会使进程系统后台运行，必须对 <code>&amp;</code> 进行下转义才能 $_GET 获取到所有参数</p>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/15/linux-%E4%B8%8B%E4%BD%BF%E7%94%A8-curl-%E8%AE%BF%E9%97%AE%E5%B8%A6%E5%A4%9A%E5%8F%82%E6%95%B0%EF%BC%8CGET%E6%8E%89%E5%8F%82%E6%95%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/15/linux-下使用-curl-访问带多参数，GET掉参数解决方案/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/15/linux-下使用-curl-访问带多参数，GET掉参数解决方案/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/15/Golang中TCP-Socket粘包问题和处理/" title="Golang中TCP Socket粘包问题和处理" itemprop="url">Golang中TCP Socket粘包问题和处理</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-15T04:21:58.000Z" itemprop="datePublished"> 发表于 2016-11-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在用golang开发人工客服系统的时候碰到了粘包问题，那么什么是粘包呢？例如我们和客户端约定数据交互格式是一个json格式的字符串：</p>
<pre><code>	&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;golang&quot;,&quot;Message&quot;:&quot;message&quot;&#125;
</code></pre>
<p>当客户端发送数据给服务端的时候，如果服务端没有及时接收，客户端又发送了一条数据上来，这时候服务端才进行接收的话就会收到两个连续的字符串，形如：</p>
<pre><code>	&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;golang&quot;,&quot;Message&quot;:&quot;message&quot;&#125;&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;golang&quot;,&quot;Message&quot;:&quot;message&quot;&#125;
	
</code></pre>
<p>如果接收缓冲区满了的话，那么也有可能接收到半截的json字符串，酱紫的话还怎么用json解码呢？真是头疼。以下用golang模拟了下这个粘包的产生。</p>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/15/Golang%E4%B8%ADTCP-Socket%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98%E5%92%8C%E5%A4%84%E7%90%86/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Go/">Go</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/15/Golang中TCP-Socket粘包问题和处理/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/15/Golang中TCP-Socket粘包问题和处理/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/14/网络编程调试/" title="网络编程调试" itemprop="url">网络编程调试</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-14T03:24:05.000Z" itemprop="datePublished"> 发表于 2016-11-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="记录网络服务名和它们对应使用的端口号及协议"><a href="#记录网络服务名和它们对应使用的端口号及协议" class="headerlink" title="记录网络服务名和它们对应使用的端口号及协议"></a>记录网络服务名和它们对应使用的端口号及协议</h3><pre><code>	cat /etc/services
	
</code></pre>
<h3 id="查看某个端口号的使用状态"><a href="#查看某个端口号的使用状态" class="headerlink" title="查看某个端口号的使用状态"></a>查看某个端口号的使用状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsof -i :6000 （查看哪个进程正在监听6000这个端口）</span><br><span class="line">lsof -i TCP:6000 （只显示监听此端口的TCP连接，上面不加选项的就是指TCP&amp;UDP）</span><br></pre></td></tr></table></figure>

<p><code>lsof</code> 命令还可以用来显示谁在使用某个文件或文件夹，例如：</p>
<pre><code>	lsof  /root/michael/unp（会显示谁当前在用/root/michael/unp文件夹）
</code></pre>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/14/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E8%B0%83%E8%AF%95/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/14/网络编程调试/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/14/网络编程调试/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/13/用Golang实现-文本广播式聊天服务器-客户端/" title="用Golang实现 文本广播式聊天服务器/客户端" itemprop="url">用Golang实现 文本广播式聊天服务器/客户端</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2016-11-13T13:07:48.000Z" itemprop="datePublished"> 发表于 2016-11-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>根据 <a href="https://luckymrwang.github.io/2016/11/13/%E7%94%A8Golang%E5%AE%9E%E7%8E%B0-%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%AE%A2%E6%88%B7%E7%AB%AF/">用Golang实现 服务器&#x2F;客户端</a> 将其改造成一个文本信息聊天室</p>
<h3 id="服务端的改动"><a href="#服务端的改动" class="headerlink" title="服务端的改动"></a>服务端的改动</h3><ol>
<li><p>服务器为了实现聊天信息的群体广播, 需要记录所有连接到服务器的客户端信息, 所以, 我们需要添加一个集合来保存所有客户端的连接:</p>
<pre><code> var ConnMap map[string]*net.TCPConn
 
</code></pre>
</li>
<li><p>接着, 每次当有新的客户端连接到服务器时, 需要把这个客户端连接行信息加入集合:</p>
<pre><code> ConnMap[tcpConn.RemoteAddr().String()] = tcpConn
 
</code></pre>
</li>
<li><p>当服务器收到客户端的聊天信息时, 需要广播到所有客户端, 所以我们需要利用上面保存TCPConn的map来遍历所有TCPConn进行广播, 用以下方法实现:</p>
</li>
</ol>
        
        
        <p class="article-more-link">
          
            <a href="/2016/11/13/%E7%94%A8Golang%E5%AE%9E%E7%8E%B0-%E6%96%87%E6%9C%AC%E5%B9%BF%E6%92%AD%E5%BC%8F%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%AE%A2%E6%88%B7%E7%AB%AF/#more">阅读更多</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Go/">Go</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/13/用Golang实现-文本广播式聊天服务器-客户端/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/13/用Golang实现-文本广播式聊天服务器-客户端/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/13/">&lt;span&gt;&lt;&#x2F;span&gt;Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/15/">Next&lt;span&gt;&lt;&#x2F;span&gt;</a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/example/" title="example">example<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Go/" title="Go">Go<sup>46</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>35</sup></a></li>
			
		
			
				<li><a href="/tags/PHP/" title="PHP">PHP<sup>19</sup></a></li>
			
		
			
				<li><a href="/tags/Kubernetes/" title="Kubernetes">Kubernetes<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/Golang/" title="Golang">Golang<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Mac/" title="Mac">Mac<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/jQuery/" title="jQuery">jQuery<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Apache/" title="Apache">Apache<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/MySQL/" title="MySQL">MySQL<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/CentOS/" title="CentOS">CentOS<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Go笔记/" title="Go笔记">Go笔记<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Nginx/" title="Nginx">Nginx<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/eBPF/" title="eBPF">eBPF<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/DataTables/" title="DataTables">DataTables<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/GoExample/" title="GoExample">GoExample<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/监控/" title="监控">监控<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Just do it <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/luckymrwang" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		
		<a href="/about" target="_blank" title="luckymrwang">luckymrwang</a>
		

		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"luckymrwang"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-68490584-1', 'auto');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
