
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Go语言的排序和搜索 | iBlog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="luckymrwang">
    

    
    <meta name="description" content="Go 的排序思路和 C 和 C++ 有些差别。 C 默认是对数组进行排序， C++ 是对一个序列进行排序， Go 则更宽泛一些，待排序的可以是任何对象， 虽然很多情况下是一个 slice (分片， 类似于数组)，或是包含 slice 的一个对象。 排序(接口)的三个要素：  待排序元素个数 n 第 i 和第 j 个元素的比较函数 less  第 i 和 第 j 个元素的交换 swap">
<meta property="og:type" content="article">
<meta property="og:title" content="Go语言的排序和搜索">
<meta property="og:url" content="https://luckymrwang.github.io/2017/03/20/Go%E8%AF%AD%E8%A8%80%E7%9A%84%E6%8E%92%E5%BA%8F%E5%92%8C%E6%90%9C%E7%B4%A2/index.html">
<meta property="og:site_name" content="iBlog">
<meta property="og:description" content="Go 的排序思路和 C 和 C++ 有些差别。 C 默认是对数组进行排序， C++ 是对一个序列进行排序， Go 则更宽泛一些，待排序的可以是任何对象， 虽然很多情况下是一个 slice (分片， 类似于数组)，或是包含 slice 的一个对象。 排序(接口)的三个要素：  待排序元素个数 n 第 i 和第 j 个元素的比较函数 less  第 i 和 第 j 个元素的交换 swap">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-03-20T06:14:12.000Z">
<meta property="article:modified_time" content="2025-06-19T10:22:16.194Z">
<meta property="article:author" content="luckymrwang">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="iBlog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2966365318189151"
     crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="iBlog" title="iBlog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="iBlog">iBlog</a></h1>
				<h2 class="blog-motto">Write down what I think.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">文章列表</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:luckymrwang.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/20/Go语言的排序和搜索/" title="Go语言的排序和搜索" itemprop="url">Go语言的排序和搜索</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="luckymrwang" target="_blank" itemprop="author">luckymrwang</a>
		
  <p class="article-time">
    <time datetime="2017-03-20T06:14:12.000Z" itemprop="datePublished"> 发表于 2017-03-20</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B-int-%E3%80%81-float64-%E5%92%8C-string-%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">基本类型 int 、 float64 和 string 的排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="toc-number">1.1.</span> <span class="toc-text">升序排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="toc-number">1.2.</span> <span class="toc-text">降序排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E6%8E%92%E5%BA%8F"><span class="toc-number">1.3.</span> <span class="toc-text">深入理解排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">结构体类型的排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-1"><span class="toc-number">2.1.</span> <span class="toc-text">结构体排序方法 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-2"><span class="toc-number">2.2.</span> <span class="toc-text">结构体排序方法 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-3"><span class="toc-number">2.3.</span> <span class="toc-text">结构体排序方法 3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-4"><span class="toc-number">2.4.</span> <span class="toc-text">结构体排序方法 4</span></a></li></ol></li></ol>
		
		</div>
		
		<p>Go 的排序思路和 C 和 C++ 有些差别。 C 默认是对数组进行排序， C++ 是对一个序列进行排序， Go 则更宽泛一些，待排序的可以是任何对象， 虽然很多情况下是一个 slice (分片， 类似于数组)，或是包含 slice 的一个对象。</p>
<p>排序(接口)的三个要素：</p>
<ul>
<li>待排序元素个数 n</li>
<li>第 i 和第 j 个元素的比较函数 less </li>
<li>第 i 和 第 j 个元素的交换 swap</li>
</ul>
<span id="more"></span>
<h3 id="基本类型-int-、-float64-和-string-的排序"><a href="#基本类型-int-、-float64-和-string-的排序" class="headerlink" title="基本类型 int 、 float64 和 string 的排序"></a>基本类型 int 、 float64 和 string 的排序</h3><h4 id="升序排序"><a href="#升序排序" class="headerlink" title="升序排序"></a>升序排序</h4><p>对于 int 、 float64 和 string 数组或是分片的排序， go 分别提供了 sort.Ints() 、 sort.Float64s() 和 sort.Strings() 函数， 默认都是从小到大排序。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    intList := [] <span class="type">int</span> &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">0</span>&#125;</span><br><span class="line">    float8List := [] <span class="type">float64</span> &#123;<span class="number">4.2</span>, <span class="number">5.9</span>, <span class="number">12.3</span>, <span class="number">10.0</span>, <span class="number">50.4</span>, <span class="number">99.9</span>, <span class="number">31.4</span>, <span class="number">27.81828</span>, <span class="number">3.14</span>&#125;</span><br><span class="line">    <span class="comment">// float4List := [] float32 &#123;4.2, 5.9, 12.3, 10.0, 50.4, 99.9, 31.4, 27.81828, 3.14&#125;    // no function : sort.Float32s</span></span><br><span class="line">    stringList := [] <span class="type">string</span> &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;f&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot;z&quot;</span>, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;w&quot;</span>, <span class="string">&quot;y&quot;</span>&#125;</span><br><span class="line">   </span><br><span class="line">    sort.Ints(intList)</span><br><span class="line">    sort.Float64s(float8List)</span><br><span class="line">    sort.Strings(stringList)</span><br><span class="line">   </span><br><span class="line">    fmt.Printf(<span class="string">&quot;%v\n%v\n%v\n&quot;</span>, intList, float8List, stringList)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="降序排序"><a href="#降序排序" class="headerlink" title="降序排序"></a>降序排序</h4><p>int 、 float64 和 string 都有默认的升序排序函数， 现在问题是如果降序如何 ？ 有其他语言编程经验的人都知道，只需要交换 cmp 的比较法则就可以了， go 的实现是类似的，然而又有所不同。 go 中对某个 Type 的对象 obj 排序， 可以使用 sort.Sort(obj) 即可，就是需要对 Type 类型绑定三个方法 ： Len() 求长度、 Less(i,j) 比较第 i 和 第 j 个元素大小的函数、 Swap(i,j) 交换第 i 和第 j 个元素的函数。sort 包下的三个类型 IntSlice 、 Float64Slice 、 StringSlice 分别实现了这三个方法， 对应排序的是 [] int 、 [] float64 和 [] string 。如果期望逆序排序， 只需要将对应的 Less 函数简单修改一下即可。</p>
<p>go 的 sort 包可以使用 sort.Reverse(slice) 来调换 slice.Interface.Less ，也就是比较函数，所以， int 、 float64 和 string 的逆序排序函数可以这么写：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	intList := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">0</span>&#125;</span><br><span class="line">	float8List := []<span class="type">float64</span>&#123;<span class="number">4.2</span>, <span class="number">5.9</span>, <span class="number">12.3</span>, <span class="number">10.0</span>, <span class="number">50.4</span>, <span class="number">99.9</span>, <span class="number">31.4</span>, <span class="number">27.81828</span>, <span class="number">3.14</span>&#125;</span><br><span class="line">	stringList := []<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;f&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot;z&quot;</span>, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;w&quot;</span>, <span class="string">&quot;y&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">	sort.Sort(sort.Reverse(sort.IntSlice(intList)))</span><br><span class="line">	sort.Sort(sort.Reverse(sort.Float64Slice(float8List)))</span><br><span class="line">	sort.Sort(sort.Reverse(sort.StringSlice(stringList)))</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n%v\n%v\n&quot;</span>, intList, float8List, stringList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="深入理解排序"><a href="#深入理解排序" class="headerlink" title="深入理解排序"></a>深入理解排序</h4><p>sort 包中有一个 sort.Interface 接口，该接口有三个方法 Len() 、 Less(i,j) 和 Swap(i,j) 。 通用排序函数 sort.Sort 可以排序任何实现了 sort.Inferface 接口的对象(变量)。对于 [] int 、[] float64 和 [] string 除了使用特殊指定的函数外，还可以使用改装过的类型 IntSclice 、 Float64Slice 和 StringSlice ， 然后直接调用它们对应的 Sort() 方法；因为这三种类型也实现了 sort.Interface 接口， 所以可以通过 sort.Reverse 来转换这三种类型的 Interface.Less 方法来实现逆向排序， 这就是前面最后一个排序的使用。</p>
<p>下面使用了一个自定义(用户定义)的 Reverse 结构体， 而不是 sort.Reverse 函数， 来实现逆向排序。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义的 Reverse 类型</span></span><br><span class="line"><span class="keyword">type</span> Reverse <span class="keyword">struct</span> &#123;</span><br><span class="line">	sort.Interface <span class="comment">// 这样， Reverse 可以接纳任何实现了 sort.Interface (包括 Len, Less, Swap 三个方法) 的对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reverse 只是将其中的 Inferface.Less 的顺序对调了一下</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Reverse)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> r.Interface.Less(j, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ints := []<span class="type">int</span>&#123;<span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>&#125; <span class="comment">// 未排序</span></span><br><span class="line"></span><br><span class="line">	sort.Ints(ints)                            <span class="comment">// 特殊排序函数， 升序</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;after sort by Ints:\t&quot;</span>, ints) <span class="comment">// [1 2 3 4 5 6]</span></span><br><span class="line"></span><br><span class="line">	doubles := []<span class="type">float64</span>&#123;<span class="number">2.3</span>, <span class="number">3.2</span>, <span class="number">6.7</span>, <span class="number">10.9</span>, <span class="number">5.4</span>, <span class="number">1.8</span>&#125;</span><br><span class="line"></span><br><span class="line">	sort.Float64s(doubles)                            <span class="comment">// float64 排序版本 1</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;after sort by Float64s:\t&quot;</span>, doubles) <span class="comment">// [1.8 2.3 3.2 5.4 6.7 10.9]</span></span><br><span class="line"></span><br><span class="line">	strings := []<span class="type">string</span>&#123;<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;good&quot;</span>, <span class="string">&quot;students&quot;</span>, <span class="string">&quot;morning&quot;</span>, <span class="string">&quot;people&quot;</span>, <span class="string">&quot;world&quot;</span>&#125;</span><br><span class="line">	sort.Strings(strings)</span><br><span class="line">	fmt.Println(<span class="string">&quot;after sort by Strings:\t&quot;</span>, strings) <span class="comment">// [good hello mornig people students world]</span></span><br><span class="line"></span><br><span class="line">	ipos := sort.SearchInts(ints, <span class="number">-1</span>)       <span class="comment">// int 搜索</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;pos of 5 is %d th\n&quot;</span>, ipos) <span class="comment">// 并不总是正确呀 ! (搜索不是重点)</span></span><br><span class="line"></span><br><span class="line">	dpos := sort.SearchFloat64s(doubles, <span class="number">20.1</span>) <span class="comment">// float64 搜索</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;pos of 5.0 is %d th\n&quot;</span>, dpos)  <span class="comment">// 并不总是正确呀 !</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;doubles is asc ? %v\n&quot;</span>, sort.Float64sAreSorted(doubles))</span><br><span class="line"></span><br><span class="line">	doubles = []<span class="type">float64</span>&#123;<span class="number">3.5</span>, <span class="number">4.2</span>, <span class="number">8.9</span>, <span class="number">100.98</span>, <span class="number">20.14</span>, <span class="number">79.32</span>&#125;</span><br><span class="line">	<span class="comment">// sort.Sort(sort.Float64Slice(doubles))    // float64 排序方法 2</span></span><br><span class="line">	<span class="comment">// fmt.Println(&quot;after sort by Sort:\t&quot;, doubles)    // [3.5 4.2 8.9 20.14 79.32 100.98]</span></span><br><span class="line">	(sort.Float64Slice(doubles)).Sort()           <span class="comment">// float64 排序方法 3</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;after sort by Sort:\t&quot;</span>, doubles) <span class="comment">// [3.5 4.2 8.9 20.14 79.32 100.98]</span></span><br><span class="line"></span><br><span class="line">	sort.Sort(Reverse&#123;sort.Float64Slice(doubles)&#125;)         <span class="comment">// float64 逆序排序</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;after sort by Reversed Sort:\t&quot;</span>, doubles) <span class="comment">// [100.98 79.32 20.14 8.9 4.2 3.5]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>sort.Ints &#x2F; sort.Float64s &#x2F; sort.Strings 分别来对整型&#x2F;浮点型&#x2F;字符串型分片或是叫做片段，或是不严格滴说是数组，进行排序。然后是有个测试是否有序的函数。还有分别对应的 search 函数，不过，发现搜索函数只能定位到如果存在的话的位置，不存在的话，位置就是不对的。</p>
<p>关于一般的数组排序，程序中显示了，有 3 种方法！目前提供的三种类型 int，float64 和 string 呈现对称的，也就是你有的，对应的我也有。</p>
<p>关于翻转排序或是逆向排序，就是用个翻转结构体，重写 Less 函数即可。上面的 Reverse 是个通用的结构体。</p>
<h3 id="结构体类型的排序"><a href="#结构体类型的排序" class="headerlink" title="结构体类型的排序"></a>结构体类型的排序</h3><p>结构体类型的排序是通过使用 sort.Sort(slice) 实现的， 只要 slice 实现了 sort.Interface 的三个方法就可以。 虽然这么说，但是排序的方法却有那么好几种。首先一种就是模拟排序 []int 构造对应的 IntSlice 类型，然后对 IntSlice 类型实现 Interface 的三个方法。</p>
<h4 id="结构体排序方法-1"><a href="#结构体排序方法-1" class="headerlink" title="结构体排序方法 1"></a>结构体排序方法 1</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="type">string</span> <span class="comment">// 姓名</span></span><br><span class="line">	Age  <span class="type">int</span>    <span class="comment">// 年纪</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按照 Person.Age 从大到小排序</span></span><br><span class="line"><span class="keyword">type</span> PersonSlice []Person</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a PersonSlice)</span></span> Len() <span class="type">int</span> &#123; <span class="comment">// 重写 Len() 方法</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a PersonSlice)</span></span> Swap(i, j <span class="type">int</span>) &#123; <span class="comment">// 重写 Swap() 方法</span></span><br><span class="line">	a[i], a[j] = a[j], a[i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a PersonSlice)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> &#123; <span class="comment">// 重写 Less() 方法， 从大到小排序</span></span><br><span class="line">	<span class="keyword">return</span> a[j].Age &lt; a[i].Age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	people := []Person&#123;</span><br><span class="line">		&#123;<span class="string">&quot;zhang san&quot;</span>, <span class="number">12</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;li si&quot;</span>, <span class="number">30</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;wang wu&quot;</span>, <span class="number">52</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;zhao liu&quot;</span>, <span class="number">26</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">	sort.Sort(PersonSlice(people)) <span class="comment">// 按照 Age 的逆序排序</span></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">	sort.Sort(sort.Reverse(PersonSlice(people))) <span class="comment">// 按照 Age 的升序排序</span></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这完全是一种模拟的方式，所以如果懂了 IntSlice 自然就理解这里了，反过来，理解了这里那么 IntSlice 那里也就懂了。</p>
<h4 id="结构体排序方法-2"><a href="#结构体排序方法-2" class="headerlink" title="结构体排序方法 2"></a>结构体排序方法 2</h4><p>方法 1 的缺点是 ： 根据 Age 排序需要重新定义 PersonSlice 方法，绑定 Len 、 Less 和 Swap 方法， 如果需要根据 Name 排序， 又需要重新写三个函数； 如果结构体有 4 个字段，有四种类型的排序，那么就要写 3 × 4 &#x3D; 12 个方法， 即使有一些完全是多余的， O__O”… 仔细思量一下，根据不同的标准 Age 或是 Name， 真正不同的体现在 Less 方法上，所以， me 们将 Less 抽象出来， 每种排序的 Less 让其变成动态的，比如下面一种方法。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="type">string</span> <span class="comment">// 姓名</span></span><br><span class="line">	Age  <span class="type">int</span>    <span class="comment">// 年纪</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PersonWrapper <span class="keyword">struct</span> &#123;</span><br><span class="line">	people []Person</span><br><span class="line">	by     <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Len() <span class="type">int</span> &#123; <span class="comment">// 重写 Len() 方法</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(pw.people)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Swap(i, j <span class="type">int</span>) &#123; <span class="comment">// 重写 Swap() 方法</span></span><br><span class="line">	pw.people[i], pw.people[j] = pw.people[j], pw.people[i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> &#123; <span class="comment">// 重写 Less() 方法</span></span><br><span class="line">	<span class="keyword">return</span> pw.by(&amp;pw.people[i], &amp;pw.people[j])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	people := []Person&#123;</span><br><span class="line">		&#123;<span class="string">&quot;zhang san&quot;</span>, <span class="number">12</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;li si&quot;</span>, <span class="number">30</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;wang wu&quot;</span>, <span class="number">52</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;zhao liu&quot;</span>, <span class="number">26</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">	sort.Sort(PersonWrapper&#123;people, <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> q.Age &lt; p.Age <span class="comment">// Age 递减排序</span></span><br><span class="line">	&#125;&#125;)</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line">	sort.Sort(PersonWrapper&#123;people, <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> p.Name &lt; q.Name <span class="comment">// Name 递增排序</span></span><br><span class="line">	&#125;&#125;)</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法 2 将 [] Person 和比较的准则 cmp 封装在了一起，形成了 PersonWrapper 函数，然后在其上绑定 Len 、 Less 和 Swap 方法。 实际上 sort.Sort(pw) 排序的是 pw 中的 people， 这就是前面说的， go 的排序未必就是针对的一个数组或是 slice， 而可以是一个对象中的数组或是 slice 。</p>
<h4 id="结构体排序方法-3"><a href="#结构体排序方法-3" class="headerlink" title="结构体排序方法 3"></a>结构体排序方法 3</h4><p>方法 2 唯一一个缺点是，在 main 中使用的时候暴露了 sort.Sort 的使用，还有就是 PersonWrapper 的构造。 为了让 main 中使用起来更为方便， me 们可以再简单的封装一下， 构造一个 SortPerson 方法， 如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="type">string</span> <span class="comment">// 姓名</span></span><br><span class="line">	Age  <span class="type">int</span>    <span class="comment">// 年纪</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PersonWrapper <span class="keyword">struct</span> &#123;</span><br><span class="line">	people []Person</span><br><span class="line">	by     <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> SortBy <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Len() <span class="type">int</span> &#123; <span class="comment">// 重写 Len() 方法</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(pw.people)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Swap(i, j <span class="type">int</span>) &#123; <span class="comment">// 重写 Swap() 方法</span></span><br><span class="line">	pw.people[i], pw.people[j] = pw.people[j], pw.people[i]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pw PersonWrapper)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> &#123; <span class="comment">// 重写 Less() 方法</span></span><br><span class="line">	<span class="keyword">return</span> pw.by(&amp;pw.people[i], &amp;pw.people[j])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SortPerson</span><span class="params">(people []Person, by SortBy)</span></span> &#123; <span class="comment">// SortPerson 方法</span></span><br><span class="line">	sort.Sort(PersonWrapper&#123;people, by&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	people := []Person&#123;</span><br><span class="line">		&#123;<span class="string">&quot;zhang san&quot;</span>, <span class="number">12</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;li si&quot;</span>, <span class="number">30</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;wang wu&quot;</span>, <span class="number">52</span>&#125;,</span><br><span class="line">		&#123;<span class="string">&quot;zhao liu&quot;</span>, <span class="number">26</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">	sort.Sort(PersonWrapper&#123;people, <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> q.Age &lt; p.Age <span class="comment">// Age 递减排序</span></span><br><span class="line">	&#125;&#125;)</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">	SortPerson(people, <span class="function"><span class="keyword">func</span><span class="params">(p, q *Person)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> p.Name &lt; q.Name <span class="comment">// Name 递增排序</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	fmt.Println(people)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在方法 2 的基础上构造了 SortPerson 函数，使用的时候传过去一个 [] Person 和一个 cmp 函数。</p>
<h4 id="结构体排序方法-4"><a href="#结构体排序方法-4" class="headerlink" title="结构体排序方法 4"></a>结构体排序方法 4</h4><p>下面是另外一个实现思路， 可以说是方法 1、 2 的变体。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name        <span class="type">string</span></span><br><span class="line">    Weight      <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> PersonSlice []Person</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s PersonSlice)</span></span> Len() <span class="type">int</span>  &#123; <span class="keyword">return</span> <span class="built_in">len</span>(s) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s PersonSlice)</span></span> Swap(i, j <span class="type">int</span>)     &#123; s[i], s[j] = s[j], s[i] &#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> ByName <span class="keyword">struct</span>&#123; PersonSlice &#125;    <span class="comment">// 将 PersonSlice 包装起来到 ByName 中</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s ByName)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span>     &#123; <span class="keyword">return</span> s.PersonSlice[i].Name &lt; s.PersonSlice[j].Name &#125;    <span class="comment">// 将 Less 绑定到 ByName 上</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> ByWeight <span class="keyword">struct</span>&#123; PersonSlice &#125;    <span class="comment">// 将 PersonSlice 包装起来到 ByWeight 中</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s ByWeight)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span>   &#123; <span class="keyword">return</span> s.PersonSlice[i].Weight &lt; s.PersonSlice[j].Weight &#125;    <span class="comment">// 将 Less 绑定到 ByWeight 上</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := []Person&#123;</span><br><span class="line">        &#123;<span class="string">&quot;apple&quot;</span>, <span class="number">12</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;pear&quot;</span>, <span class="number">20</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;banana&quot;</span>, <span class="number">50</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;orange&quot;</span>, <span class="number">87</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;hello&quot;</span>, <span class="number">34</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;world&quot;</span>, <span class="number">43</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    sort.Sort(ByWeight&#123;s&#125;)</span><br><span class="line">    fmt.Println(<span class="string">&quot;People by weight:&quot;</span>)</span><br><span class="line">    printPeople(s)</span><br><span class="line"> </span><br><span class="line">    sort.Sort(ByName&#123;s&#125;)</span><br><span class="line">    fmt.Println(<span class="string">&quot;\nPeople by name:&quot;</span>)</span><br><span class="line">    printPeople(s)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printPeople</span><span class="params">(s []Person)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> _, o := <span class="keyword">range</span> s &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%-8s (%v)\n&quot;</span>, o.Name, o.Weight)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>本文引自<a href="http://studygolang.com/articles/1598">这里</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/Go/">Go</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://luckymrwang.github.io/2017/03/20/Go%E8%AF%AD%E8%A8%80%E7%9A%84%E6%8E%92%E5%BA%8F%E5%92%8C%E6%90%9C%E7%B4%A2/" data-title="Go语言的排序和搜索 | iBlog" data-tsina="iuckymrwang" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/03/21/Map-对Key和Value排序/" title="Map 对Key和Value排序">
  <strong>上一篇：</strong><br/>
  <span>
  Map 对Key和Value排序</span>
</a>
</div>


<div class="next">
<a href="/2017/03/16/使用-Elastic-Stack-来监控和调优-Golang-应用程序/"  title="使用 Elastic Stack 来监控和调优 Golang 应用程序">
 <strong>下一篇：</strong><br/> 
 <span>使用 Elastic Stack 来监控和调优 Golang 应用程序
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2017/03/20/Go语言的排序和搜索/" data-title="Go语言的排序和搜索" data-url="https://luckymrwang.github.io/2017/03/20/Go%E8%AF%AD%E8%A8%80%E7%9A%84%E6%8E%92%E5%BA%8F%E5%92%8C%E6%90%9C%E7%B4%A2/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B-int-%E3%80%81-float64-%E5%92%8C-string-%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">基本类型 int 、 float64 和 string 的排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="toc-number">1.1.</span> <span class="toc-text">升序排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="toc-number">1.2.</span> <span class="toc-text">降序排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E6%8E%92%E5%BA%8F"><span class="toc-number">1.3.</span> <span class="toc-text">深入理解排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">结构体类型的排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-1"><span class="toc-number">2.1.</span> <span class="toc-text">结构体排序方法 1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-2"><span class="toc-number">2.2.</span> <span class="toc-text">结构体排序方法 2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-3"><span class="toc-number">2.3.</span> <span class="toc-text">结构体排序方法 3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95-4"><span class="toc-number">2.4.</span> <span class="toc-text">结构体排序方法 4</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/example/" title="example">example<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Go/" title="Go">Go<sup>46</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>35</sup></a></li>
			
		
			
				<li><a href="/tags/PHP/" title="PHP">PHP<sup>19</sup></a></li>
			
		
			
				<li><a href="/tags/Kubernetes/" title="Kubernetes">Kubernetes<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/Golang/" title="Golang">Golang<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Mac/" title="Mac">Mac<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/jQuery/" title="jQuery">jQuery<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Apache/" title="Apache">Apache<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/MySQL/" title="MySQL">MySQL<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/CentOS/" title="CentOS">CentOS<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Go笔记/" title="Go笔记">Go笔记<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Nginx/" title="Nginx">Nginx<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/eBPF/" title="eBPF">eBPF<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/DataTables/" title="DataTables">DataTables<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/GoExample/" title="GoExample">GoExample<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/监控/" title="监控">监控<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Just do it <br/>
			</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/luckymrwang" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		
		<a href="/about" target="_blank" title="luckymrwang">luckymrwang</a>
		

		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"luckymrwang"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-68490584-1', 'auto');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
